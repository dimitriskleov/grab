<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send Location to Discord</title>
</head>
<body>
    <h1>Location Permission</h1>
    <p>Please allow location access to send your location to Discord.</p>

    <button id="getLocationBtn">Allow Location</button>

    <script>
        const webhookUrl = "https://discordapp.com/api/webhooks/1385656997587718287/WYyyFCcKvoCXwezu6f3357KcZ7dY5rsPFGneW5WXBw32qMCnrAEl4Ty0JMiWkK9vtsdY"; // Re";  // Replace with your Discord webhook URL

        document.getElementById("getLocationBtn").addEventListener("click", function() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    // Get the latitude and longitude
                    const lat = position.coords.latitude;
                    const lon = position.coords.longitude;

                    // Generate a Google Maps URL
                    const mapLink = `https://www.google.com/maps?q=${lat},${lon}`;

                    // Prepare the data to send to Discord
                    const payload = {
                        content: `User's Location: ${lat}, ${lon}`,
                        embeds: [
                            {
                                title: "User Location on Map",
                                description: `Click to view location on map: [Google Maps Link](${mapLink})`,
                                url: mapLink,
                                color: 3447003
                            }
                        ]
                    };

                    // Send the location to Discord Webhook
                    fetch(webhookUrl, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(payload)
                    })
                    .then(response => {
                        if (response.ok) {
                            alert("Location sent to Discord!");
                        } else {
                            alert("Failed to send location.");
                        }
                    })
                    .catch(error => {
                        alert("Error: " + error);
                    });
                }, function(error) {
                    alert("Error getting location: " + error.message);
                });
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        });
    </script>
</body>
</html>
